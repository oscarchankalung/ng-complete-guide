<div class="container">
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <form (ngSubmit)="onSubmit()" #form="ngForm">
        <div id="user-data" ngModelGroup="userData" #userData="ngModelGroup">
          <div class="form-group" [class.has-error]="username.invalid && username.touched">
            <label class="control-label" for="username">Username</label>
            <input
              type="text"
              id="username"
              class="form-control"
              ngModel
              name="username"
              required
              #username="ngModel">
            <span
              class="help-block"
              *ngIf="username.invalid && username.touched">
              Please enter a valid username.
            </span>
          </div>
          <div class="form-group">
            <div class="btn-toolbar">
              <button
                class="btn btn-default"
                type="button"
                (click)="suggestUsername()">
                Suggest an Username
              </button>
              <button
                class="btn btn-default"
                type="button"
                (click)="suggestOscar()">
                Suggest Oscar
              </button>
            </div>
          </div>
          <div class="form-group" [class.has-error]="email.invalid && email.touched">
            <label class="control-label" for="email">Mail</label>
            <input
              type="email"
              id="email"
              class="form-control"
              ngModel
              name="email"
              required
              email
              #email="ngModel">
            <span
              class="help-block"
              *ngIf="email.invalid && email.touched">
              Please enter a valid email.
            </span>
          </div>
          <div class="form-group">
            <label>Gender</label>
            <div class="radio" *ngFor="let gender of genders">
              <label [for]="gender">
                <input
                  type="radio"
                  [id]="gender"
                  ngModel
                  name="gender"
                  [value]="gender"
                  required>
                {{ gender }}
              </label>
            </div>
          </div>
        </div>
        <div id="secret" ngModelGroup="secret" #secret="ngModelGroup">
          <div class="form-group" [class.has-error]="secret.invalid && secret.touched">
            <label class="control-label" for="secretQuestion">Secret Question</label>
            <select
              id="secretQuestion"
              class="form-control"
              [ngModel]="questionDefault"
              name="secretQuestion">
              <option value="pet">Your first pet?</option>
              <option value="teacher">Your first teacher?</option>
            </select>
          </div>
          <div class="form-group" [class.has-error]="secret.invalid && secret.touched">
            <textarea
              name="secretAnswer"
              rows="3"
              class="form-control"
              [(ngModel)]="questionAnswer"
              required></textarea>
            <span
              class="help-block"
              *ngIf="questionAnswer !== undefined">
              Your reply: {{ questionAnswer }}
            </span>
            <span
              class="help-block"
              *ngIf="secret.invalid && secret.touched">
              Secret question is invalid.
            </span>
          </div>
        </div>
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="form.invalid">
          Submit
        </button>
      </form>
      <div *ngIf="form.submitted">
        <hr>
        <p><b>Your Data</b></p>
        <ul>
          <li>Username: {{ user.username }}</li>
          <li>Email: {{ user.email }}</li>
          <li>Gender: {{ user.gender }}</li>
          <li>Secret Question: {{ user.secretQuestion }}</li>
          <li>Secret Answer: {{ user.secretAnswer }}</li>
        </ul>
      </div>
    </div>
  </div>
  <hr>
  <app-assignment06></app-assignment06>
</div>
